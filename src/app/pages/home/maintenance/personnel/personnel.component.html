<!-- 功能栏 -->
<div class="check">
  <div (click)="add_personnel()">
    <img src="../../../../assets/logo/add_logo.svg" alt="">
    <span>新增人員</span>
  </div>
  <button nz-button nzType="primary" (click)="showModal()">
    <span>新增人員</span>
  </button>
  <nz-modal [(nzVisible)]="isVisible" [nzContent]="modalContent" [nzFooter]="modalFooter" (nzOnCancel)="handleCancel()">
    <!-- [nzTitle]="modalTitle" -->
    <!-- <ng-template #modalTitle>Custom Modal Title</ng-template> -->

    <ng-template #modalContent>
      <p>工號:</p><input type="text">
      <p>姓名:</p><input type="text">
      <p>Mail:</p><input type="text">
      <p>權限選擇:</p>
      <div>
        <input type="checkbox" name="checkname[]" value="1" />编辑<br>
        <input type="checkbox" name="checkname[]" value="2" />下载<br>
        <input type="checkbox" name="all" id="all" (click)="checkAll()" value="0"/>管理员
      </div>
    </ng-template>

    <ng-template #modalFooter>
      <button nz-button nzType="default" (click)="handleCancel()">Cancel</button>
      <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading">Save</button>
    </ng-template>
  </nz-modal>
</div>

<!-- 机种类型表 -->
<div class="bottom">
  <nz-table #fixedTable [nzData]="personnel_list" [nzFrontPagination]=false [nzBordered]=true
    [nzScroll]="{ x: '1000px', y: '380px' }">
    <thead>
      <tr>
        <th>工號</th>
        <th>姓名</th>
        <th>Mail</th>
        <th>權限</th>
        <th nzRight>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of fixedTable.data">
        <!-- <ng-container *ngIf="!edit_cache[item.id]; else editTemplate"> -->
        <td>{{item.id}}</td>
        <td>{{item.username}}</td>
        <td>{{item.mail}}</td>
        <ng-container [ngSwitch]="item.permission">
          <td *ngSwitchCase="1">
            编辑
          </td>
          <td *ngSwitchCase="2">
            下载
          </td>
          <td *ngSwitchCase="3">
            编辑，下载
          </td>
          <td *ngSwitchCase="0">
            管理员
          </td>
        </ng-container>
        <td nzRight>
          <a (click)="startEdit(item.id)">Edit</a>
          <!-- &nbsp;
          <a (click)="deleteData(item.id)">Delete</a> -->
        </td>
          <!-- </ng-container> -->
          <!-- <ng-template #editTemplate>
          <td><input type="text" nz-input [(ngModel)]="edit_cache[item.id].data.id" /></td>
          <td><input type="text" nz-input [(ngModel)]="edit_cache[item.id].data.username" /></td>
          <td><input type="text" nz-input [(ngModel)]="edit_cache[item.id].data.mail" /></td>
          <td><input type="text" nz-input [(ngModel)]="edit_cache[item.id].data.permission" /></td>
          <td>
            <a (click)="saveEdit(item.id)" class="save">Save</a>
            <a (click)="cancelEdit(item.id)">Esc</a>
          </td>
        </ng-template> -->
      </tr>
    </tbody>
  </nz-table>
</div>
